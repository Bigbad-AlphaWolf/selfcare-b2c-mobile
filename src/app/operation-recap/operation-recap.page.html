<ion-header [myScrollVanish]="scrollArea">
  <div class="arrow-container">
    <img src="assets/images/long-arrow-left.png" alt="" (click)="goBack()" />
  </div>
  <div class="text-container">
    <ng-container [ngSwitch]="purchaseType">
      <span *ngSwitchCase="OPERATION_INTERNET_TYPE">Achat Pass Internet</span>
      <span *ngSwitchCase="OPERATION_ILLIMIX_TYPE">Achat Pass Illimix</span>
      <span *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
        >Paiement Marchand</span
      >
    </ng-container>
  </div>
  <div class="banner-container">
    <ng-container [ngSwitch]="purchaseType">
      <img
        *ngSwitchCase="OPERATION_INTERNET_TYPE"
        src="assets/images/pass-internet-banniere.png"
        alt="banniere"
        class="banniere"
      />
      <img
        *ngSwitchCase="OPERATION_ILLIMIX_TYPE"
        src="assets/images/banniere-illimix.png"
        alt="banniere"
        class="banniere"
      />
      <img
        *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
        src="assets/images/banniere-payment.png"
        alt="banniere"
        class="banniere"
      />
    </ng-container>
  </div>
</ion-header>

<ion-content #scrollArea [scrollEvents]="true">
  <div class="recap-title">
    <span class="text-1">Récapitulatif</span>
    <ng-container [ngSwitch]="purchaseType">
      <span
        *ngSwitchCase="OPERATION_INTERNET_TYPE || OPERATION_ILLIMIX_TYPE"
        class="text-2 scb-text-gray"
        >Vous allez recharger</span
      >
      <span
        *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
        class="text-2 scb-text-gray"
        >Vous allez transférer</span
      >
    </ng-container>
  </div>
  <div class="buy-pass-information">
    <div class="card-container">
      <ng-container [ngSwitch]="purchaseType">
        <app-item-recharge-credit
          [amount]="amount"
          *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
        ></app-item-recharge-credit>
        <app-item-pass-internet
          [passInternet]="passChoosen"
          *ngSwitchCase="OPERATION_INTERNET_TYPE"
        >
        </app-item-pass-internet>
        <app-item-pass-illimix
          [passIllimix]="passChoosen"
          *ngSwitchCase="OPERATION_ILLIMIX_TYPE"
        >
        </app-item-pass-illimix>
      </ng-container>
    </div>
    <ng-container [ngSwitch]="purchaseType">
      <div
        *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
        class="recipient-information"
      >
        <div class="top-block">
          <div class="title">Marchand</div>
          <div class="recipient">{{merchantCode}}</div>
        </div>
        <div class="bottom-block scb-text-gray">{{merchantName}}</div>
      </div>
      <div class="recipient-information" *ngSwitchDefault>
        <div class="top-block">
          <div class="title">Bénéficiaire</div>
          <div class="recipient">{{recipientMsisdn}}</div>
        </div>
        <div class="bottom-block scb-text-gray">{{recipientName}}</div>
      </div>
    </ng-container>

    <button
      class="scb-btn scb-btn-orange"
      (click)="pay()"
      [disabled]="buyingPass"
    >
      <ng-container [ngSwitch]="purchaseType">
        <span class="text" *ngSwitchCase="OPERATION_ILLIMIX_TYPE"
          >Payer ({{!passChoosen?.passPromo ? passChoosen?.tarif :
          passChoosen?.passPromo?.tarif}} FCFA)</span
        >
        <span class="text" *ngSwitchCase="OPERATION_INTERNET_TYPE"
          >Payer ({{!passChoosen?.passPromo ? passChoosen?.tarif :
          passChoosen?.passPromo?.tarif}} FCFA)</span
        >
        <span class="text" *ngSwitchCase="OPERATION_TYPE_MERCHANT_PAYMENT"
          >Payer ({{amount}} FCFA)</span
        >
      </ng-container>
      <mat-spinner
        mode="indeterminate"
        [diameter]="20"
        *ngIf="buyingPass"
      ></mat-spinner>
    </button>
  </div>
</ion-content>
