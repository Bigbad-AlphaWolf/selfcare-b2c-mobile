<ion-header >
  <ion-toolbar>
    <ion-buttons (click)="goBack()" class="ion-padding-start" slot="start">
      <img src="/assets/images/arrow-left.png" alt="icon" class="arrow-left" />
    </ion-buttons>
    <ion-title class="ion-no-padding">
      <span class="title1"> Donnez votre avis  </span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-header class="ion-padding-start" collapse="condense">
    <ion-toolbar>
      <span class="title">Donnez votre avis</span>
    </ion-toolbar>
  </ion-header>
  <div class="banner-container">
    <img src="assets/images/10-illustration-mon-statut.svg" alt="">
  </div>
  <div class="header-subdiviser">
  </div>
  <div class="page-container">
    <ng-container *ngIf="isLoading">
      <ion-spinner name="crescent"></ion-spinner>
    </ng-container>
    <ng-container *ngIf="!isLoading && !hasError">
      <app-item-question-satisfaction-form [(answer)]="listAnswer[i]" *ngFor="let item of listQuestions; let i=index" [itemQuestion]="item">
      </app-item-question-satisfaction-form>
    </ng-container>
    <ng-container *ngIf="!isLoading && hasError">
      <span (click)="fetchQuestions()">
        Une erreur est survenue durant l'affichage. Veuillez cliquer ici pour actualiser la page.
      </span>
    </ng-container>
  </div>
  <div *ngIf="hasErrorSubmitting" class="scb-text-red-error error">
    {{ errorMsg }}
  </div>
  <div class="btn-submit">
    <ion-button [disabled]="isSubmitting" expand="block" (click)="submit()"> Partager mon avis
        <ion-spinner *ngIf="isSubmitting" name="crescent"></ion-spinner>
    </ion-button>
  </div>
</ion-content>
