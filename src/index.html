<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Orange Et Moi</title>

    <base href="/" />

    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <link rel="icon" type="image/png" href="assets/icon/favicon.png" />

    <!-- add to homescreen for ios -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link href="assets/font-google.css" rel="preload" as="style" onload="this.rel='stylesheet'" />
    <link href="assets/material-icon.css" rel="preload" as="style" onload="this.rel='stylesheet'" />
  </head>

  <body>
    <app-root></app-root>
  </body>

  <script>
    // DIMELO NEW SCRIPT
    // Find elements of an array which satisfy a filter function
    var grep = function (items, callback) {
      var filtered = [],
        len = items.length,
        i = 0;
      for (i; i < len; i++) {
        var item = items[i];
        var cond = callback(item);
        if (cond) {
          filtered.push(item);
        }
      }
      return filtered;
    };

    // Hack to force a trigger activation
    var loadChatTrigger = function (trigger_id) {
      // Get all activated trigger objects
      var triggers = Dimelo.Messaging.Manager.ChatQLoader.manager.triggers;

      // Find the good one
      var target_trigger = grep(triggers, function (e) {
        return e.id == trigger_id;
      });
      if (target_trigger.length > 0) {
        // Hack - Activate a dedicated trigger
        Dimelo.Messaging.Manager.ChatQLoader.manager.activateTrigger(target_trigger[0]);
      }
    };
  </script>
</html>
